<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>IBTD_Bicycle Data Analysis</title>

    <!-- Bootstrap -->
    <link href="./web/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="./web/css/font-awesome.min.css">

    <!-- Script for players -->
    <script>
        var i = 0;
        var j = 0;
        var foto = new Array(49);
        var frame = new Array(49);
        var timer;
        var pause;


        for (i = 0; i < 49; i++) {
            frame[i] = "./web/frames/" + String(1964 + i) + ".html"
            foto[i] = "./web/imgs/" + String(1964 + i) + ".png"
        }


        function show() {
            document.getElementById("slideshow").src = foto[i];

        }

        function zoom() {
            document.getElementById("frameshow").src = frame[j];
            i = j;
            show();
        }

        function play() {
            if (timer) {
                // stop
                clearInterval(timer);
                timer = null;
            } else {
                timer = setInterval("next(true)", 200);
            }
        }

        function stop() {
            i = 0;
            j = 0;
            show();
            zoom()
        }

        function pause() {
            if (timer) {
                j = i;
                zoom();
                clearInterval(timer);
                timer = null;
            }
        }

        function changeDate() {
            year = document.getElementById("year").value;
            j = year - 1964;
            zoom();

        }

        Number.prototype.mod = function(n) {
            return ((this % n) + n) % n;
        };

        function previous() {
            i = (i - 1).mod(foto.length);
            j = i;
            show();
            zoom();
        }

        function next(auto) {
            i = (i + 1).mod(foto.length);
            j = i
            show();
            if (!auto) {
                zoom();
            }

        }
    </script>

    <script>
        var k = 0;
        var l = 0;
        var foto1 = new Array(106);
        var frame1 = new Array(106);
        var timer1;
        var pause1;


        for (k = 0; k < 106; k++) {
            frame1[k] = "./web/CH/map" + String(1910 + k) + "_CH.png"
            foto1[k] = "./web/WW/map" + String(1910 + k) + "_WW.png"
        }


        function show1() {
            document.getElementById("slideshow1").src = foto1[k];
        }

        function zoom1() {
            document.getElementById("slideshow2").src = frame1[k];
            k = l;
            show1();
        }

        function play1() {
            if (timer1) {
                // stop
                clearInterval(timer1);
                timer1 = null;
            } else {
                timer1 = setInterval("next1(true)", 200);
            }
        }

        function stop1() {
            pause1();
            k = 0;
            l = 0;
            show1();
            zoom1()
        }

        function pause1() {
            if (timer1) {
                l = k;
                zoom1();
                clearInterval(timer1);
                timer1 = null;
            }
        }

        function changeDate1() {
            year1 = document.getElementById("year1").value;
            l = year1 - 1910;
            k = l;
            zoom1();
            show1();

        }

        Number.prototype.mod = function(n) {
            return ((this % n) + n) % n;
        };

        function previous1() {
            k = (k - 1).mod(foto1.length);
            l = k;
            show1();
            zoom1();
        }

        function next1(auto) {
            k = (k + 1).mod(foto1.length);
            l = (l + 1).mod(frame1.length)
            show1();
            zoom1();
            if (!auto) {
                zoom1();
            }

        }
    </script>
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="./web/js/bootstrap.min.js"></script>

</head>

<body>

    </script>

    <div class="container">

        <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
        <!-- Include all compiled plugins (below), or include individual files as needed -->
        <script src="./web/js/bootstrap.min.js"></script>


        <!-- PART 0 : HEADER -->
        <div style="float:right">
            <img src="web/imgs/mit.jpg" style="height:55px; margin:80px 0 0 0px">
            <img src="web/imgs/EPFL.jpg" style="height:55px; margin:80px 0 0 40px">
            <p style="margin-top:20px" align="right">Â© Marc-Edouard<br>Powered by <a src="http://www.getbootstrap.com">Bootstrap</a></p>
        </div>
        <h1 style="margin-bottom:20px; margin-top:200px; font-size:100px">Bicycle Data Analysis</h1>
        <h1 style="margin-bottom:20px; font-size:40px"> <i>IBTD_</i> Integrating Bicycle Travel Demand to a Land-use and Transport Model in Greater Boston Area (GBA)</h1>
        <h3 style="margin-bottom: 250px;">Spring 2017 - Marc-Edouard Schultheiss</h3>


        <h1 style="margin-bottom:20px; margin-top:100px;"> <i class="fa fa-lightbulb-o" aria-hidden="true"></i> About the data </h1>

        <div class="col-md-12">
            <div class="jumbotron">
                <p>We got the data from different sources and are thankful to the city of Cambridge, Boston and Massachusetts State to share the data.
                    <div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true">
                        <div class="panel panel-default">
                            <div class="panel-heading" role="tab" id="headingOne">
                                <h4 class="panel-title">
                                <a role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                                  1. Hubway data
                                </a>
                              </h4>
                            </div>
                            <div id="collapseOne" class="panel-collapse collapse in" role="tabpanel" aria-labelledby="headingOne">
                                <div class="panel-body">
                                    text
                                </div>
                            </div>
                        </div>
                        <div class="panel panel-default">
                            <div class="panel-heading" role="tab" id="headingTwo">
                                <h4 class="panel-title">
                                <a class="collapsed" role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                                  2. Eco-totem
                                </a>
                              </h4>
                            </div>
                            <div id="collapseTwo" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingTwo">
                                <div class="panel-body">
                                    text
                                </div>
                            </div>
                        </div>
                        <div class="panel panel-default">
                            <div class="panel-heading" role="tab" id="headingThree">
                                <h4 class="panel-title">
                                <a class="collapsed" role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                                  3. GoogleMaps API data
                                </a>
                              </h4>
                            </div>
                            <div id="collapseThree" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingThree">
                                <div class="panel-body">
                                    text
                                </div>
                            </div>
                        </div>
                    </div>
            </div>
        </div>

        <!-- PART 1 : HUBWAY DATA -->
        <h1 style="margin-bottom:20px; margin-top:40px;"> <i class="fa fa-bicycle fa-1x" aria-hidden="true"></i> Hubway bicycle data </h1>
        <!-- PART 1.1 : General stats-->
        <div class="col-md-12">
            <div class="col-md-6">
                <h2 style="margin-left:1px;" name="stats"> <strong> General statistics</strong> </h2>
            </div>
            <div class="col-md-6">
                <h2 align="right"><a href"https://github.com/meschultheiss/IBTD_notebook/blob/master/hubayDataAnalysis_1.ipynb">
                <i class="fa fa-file-code-o fa-1x" aria-hidden="true"></i>
              </a>
              <a href"https://github.com/meschultheiss/IBTD_notebook/blob/master/hubwayDataAnalysis_2.ipynb">
              <i class="fa fa-file-code-o fa-1x" aria-hidden="true"></i>
            </a></h2>
            </div>

            <div class="col-md-12">
                <div class="jumbotron">
                    <p>
                      Principal component Analysis (PCA)
We ran a supervised Principal Component Analysis on the Hubway dataset and the corresponding weather data. The PCA aims at finding if the space dimension of all the explaining variables can be reduced. It was supervised because we define the class to the algorithm at the beginning. Firstly, we ran a PCA on 4 stations of the Hubway network. Two stations were located in the suburbs, and two others were among the most used stations in Cambridge and Boston. And the explaining variables were the trip duration, gender and weather information. The expectations (or hypothesis) were to find two distinct use of the two pairs of stations (in-bound and out-bound).
The results rejected the hypothesis since all the four station seem to have the same behavior considering this set of explaining variables. Furthermore, by computing the explained variance, we realized that the space dimension was not reducible without loosing a lot of information (Principal Components with an explained variation between 20 and 10% each).
We conducted the same procedure with the classes "gender" and "user type", but each time obtained the same result.
Before any comment, let precise that the chosen features might not completely explain the station use, nor the gender type use, and yields a high heuristic bias because of the poor amount of features.
Nevertheless, we can stand that people outbound are not less/more sensitive to the weather to bike, neither for gender.

Correlations
with weather, gender, trip duration with other modes, etc

Bicycle use evolution
                    </p>
                </div>
            </div>
            <center>
                <div class="col-md-12">
                    <iframe  width=100% height=800px src="./web/plots/chord_chart1000.html" frameborder="0" allowfullscreen></iframe>
                </div>
            </center>
            <!-- PART 1.2 : MAP -->
            <div class="col-md-12">
                <div class="col-md-6">
                    <h2 style="margin-left:1px;" name="maps"> <strong> Maps</strong>  </h2>
                </div>
                <div class="col-md-6">
                    <h2 align="right"><a href"https://github.com/meschultheiss/IBTD_notebook/blob/master/HubwayMap.ipynb">
        <i class="fa fa-file-code-o fa-1x" aria-hidden="true"></i>
      </a></h2>
                </div>

                <div class="col-md-12">
                    <div class="jumbotron">
                        <p>
                            The following map reprsent all the stations of the Hubway network in Boston Urban Area. The size of the dots are plotted proportionaly to the amount of mouvement at the station over the past two years, with a minimum threshold for vizualisation purpose.
                            The links are shaded according to the occurence of trips between two stations (origin and destination). No threshold, so if no link, the occurence is very low compared to the most used OD pairs. We can notice that the most
                            used stations are aggregated in two specific areas, wich are Cambridge (between MIT and Harvard) and Downtown Boston (Central). In those areas, the intensity of the links is the highest as well, and the length of the trips
                            is quite low.
                        </p>
                    </div>
                </div>
                <center>
                    <div class="col-md-12">
                        <iframe width=100% height=700px src="./web/plots/HubwayMap.html" frameborder="0" allowfullscreen></iframe>
                    </div>
                </center>




            </div>

</body>

</html>
